<!DOCTYPE html>
<html lang="es"
    xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8">
        <title th:text="${store.name}">Detalle tienda</title>

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet">
    </head>

    <body class="bg-light">

        <div class="container py-5">
            <a th:href="@{/tiendas}"
                class="btn btn-primary">Volver atras</a>

            <!-- ================= TIENDA ================= -->
            <div class="card shadow mb-4 border-0">

                <img th:src="@{/images/{img}(img=${store.imageUrl})}"
                    class="card-img-top"
                    style="height:280px; object-fit:cover;">

                <div class="card-body text-center">
                    <h1 th:text="${store.name}" class="fw-bold"></h1>

                    <span class="badge bg-primary fs-6"
                        th:text="${store.category}"></span>

                    <p class="text-muted mt-2"
                        th:text="${store.address}"></p>

                    <p class="fw-bold text-success fs-5">
                        <span th:text="${store.pointsRatio}"></span> puntos / €
                    </p>
                </div>
            </div>

            <!-- ================= EMPRESA ================= -->
            <div class="card shadow mb-4 border-0">
                <div class="card-body">

                    <h4 class="fw-bold mb-3">Empresa fiscal</h4>

                    <p class="mb-1">
                        <strong>Razón social:</strong>
                        <span th:text="${store.companyDTO.legalName}"></span>
                    </p>

                    <p class="mb-1">
                        <strong>CIF/NIF:</strong>
                        <span th:text="${store.companyDTO.cif}"></span>
                    </p>

                    <p class="mb-1">
                        <strong>Plan:</strong>
                        <span
                            th:text="${store.companyDTO.planDTO.planName}"></span>
                    </p>

                    <p class="mb-0">
                        <strong>Estado suscripción:</strong>
                        <span
                            th:text="${store.companyDTO.subscriptionStatus}"></span>
                    </p>

                </div>
            </div>

            <!-- ================= DUEÑO ================= -->
            <div class="card shadow border-0">
                <div class="card-body text-center">

                    <h4 class="fw-bold mb-3">¿Quién está detrás?</h4>

                    <div class="rounded-circle bg-primary text-white
                        d-flex align-items-center justify-content-center
                        mx-auto mb-3"
                        style="width:90px; height:90px; font-size:36px;">
                        <span
                            th:text="${store.companyDTO.ownerDTO.nickname.substring(0,1)}"></span>
                    </div>

                    <h5 th:text="${store.companyDTO.ownerDTO.nickname}"></h5>

                    <p class="text-muted mb-1"
                        th:text="${store.companyDTO.ownerDTO.email}"></p>

                    <small class="text-muted">
                        Miembro desde
                        <span
                            th:text="${#temporals.format(store.companyDTO.ownerDTO.createdAt, 'dd/MM/yyyy')}"></span>
                    </small>

                </div>
            </div>

        </div>

    </body>
</html>